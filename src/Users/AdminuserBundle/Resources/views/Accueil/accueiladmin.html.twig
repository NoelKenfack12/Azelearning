{% extends "UsersAdminuserBundle::layoutadmin.html.twig" %}

{% block meta %}
{{ parent() }}
<meta name="keywords" content="{{ site }}, Business, Innovation,Administration"/>
<meta name="author" content="Noel Kenfack"/>
<meta name="description" content="{{ site }} | Inscription | Cameroun | {{ metier }}" />
{% endblock %}

{% block title %}
{{ parent() }} | Accueil Admin
{% endblock %}

{% block userblog_body %}

<hr style="margin-top: 45px; margin-bottom: 0px;"/>
<div  style="background: rgba(83, 101, 240, 1); height: 10px;">
</div>
<div style="background: #BDC3C7;">
	<div class="container" style="color: #fff;">
	Accueil <span class="mdi-av-play-arrow" style="font-size: 10px;"></span>  Administration
	</div>	
</div>	
<hr style="margin-bottom: 0px;"/>
<!--content-->
		<div class="product" style="padding-top: 20px; margin-bottom: 20px;">
			<div class="container" style="padding: 0px;">
			<div class="col-lg-12 animecourant-panel">
			</div>
				<div class="col-md-4 product-bottom">
				{{ render(controller("UsersAdminuserBundle:Accueil:menuadmin")) }}
				<!---->
				</div>
				<div class="col-md-8 panel panel-widget">
				<div style="background: #ddd;  margin: -1px -16px 7px -16px;">
					<div style="padding: 7px; color: #fff;">Slides Acueil, Inscription et Connexion</div>	
				</div>
				<h4>
				{% set id = '' %}
				{% for infos in app.session.flashbag.get('supprime_slide') %}
				{% if loop.last %}
				<div class="alert alert-warning">
				<span class="fa fa-warning"></span> ÃŠtes vous certain de vouloir supprimer le slide {{ infos|lower }}
				<form action="{{ path('users_adminuser_delete_courant_slide',{'id': id }) }}" method="post" style="display: inline;">
				<input type="submit" value="Supprimer" style="background: red;"/>
				{{ form_rest(formsupp) }}
				</form>
				</div>
				{% else %}
				{% set id = infos %}
				{% endif %}
				{% endfor %}
				</h4>
				<div style="padding: 5px 0px;">
				{{ render(controller("UsersUserBundle:Imgslide:listeslide")) }}
				<div class="clearfix"></div>
				</div>
				
				<div style="border: 1px solid #ddd; margin-bottom: 15px; padding-bottom: 15px;">
				<div style="background: #f7f7f7; border-bottom: 1px solid #ddd; margin: -5px 0px 7px 0px;">
					<h2 style="margin: 5px;">Ajouter de nouveaux Slides.</h2>	
				</div>
    	        <h4 class="title">
					<span style="color: red;">
					{% for infos in app.session.flashbag.get('imgslide') %}
					{% if loop.first %}
					{{ infos|raw }}
					{% endif %}
					{% endfor %}
					</span>
				</h4>
    		    <form action="{{ path('users_adminuser_add_new_slide') }}" method="post" {{ form_enctype(formslide) }}>
    			  <div class="col-sm-6">
				     <span style="color:red;">{{ form_errors(formslide) }}</span>
					 <span style="color:red;">{{ form_errors(formslide.titre) }}</span>
					 <div class="form-group">
						{{ form_widget(formslide.titre, {'attr': {'class': 'form-control', 'style': 'width: 100%;'}}) }}
					 </div>
					 <span style="color:red;">{{ form_errors(formslide.description) }}</span>
					 <div class="form-group">
						{{ form_widget(formslide.description, {'attr': {'class': 'form-control', 'style': 'width: 100%;'}}) }}
					 </div>
				     
					 <span style="color:red;">{{ form_errors(formslide.rang) }}</span>
					 <div class="form-group">
						{{ form_widget(formslide.rang, {'attr': {'class': 'form-control', 'style': 'width: 100%;'}}) }}
					 </div>
		    	  </div>
		    	  <div class="col-sm-6">
				  <span style="color:red;">{{ form_errors(formslide.link) }}</span>
				  <div class="form-group">
					{{ form_widget(formslide.link, {'attr': {'class': 'form-control', 'style': 'width: 100%;'}}) }}
				  </div>
				 
				  <span>{{ form_label(formslide.file,'Importez une image de votre appareil') }}</span>
				  <div style="margin-top: 10px;">{{ form_widget(formslide.file) }}</div>
				  
					<div class="col-sm-4" style="padding: 0px;">
					 <div style="margin-top: 10px;">
					 <input type="radio" name="nature" value="accueil" id="service" checked/>
					 <strong class="text-danger"><label for="service"> Accueil</label></strong>
					 </div>
					 </div>
					 <div class="col-sm-4" style="padding: 0px;">
					 <div style="margin-top: 10px;">
					 <input type="radio" name="nature" value="forum" id="produit"/>
					 <strong class="text-danger"><label for="produit"> Forum</label></strong>
					 </div>
					 </div>
					 <div class="col-sm-4" style="padding: 0px;">
					 <div style="margin-top: 10px;">
					 <input type="radio" name="nature" value="inscription" id="annonce"/>
					 <strong class="text-danger"><label for="annonce"> Inscription</label></strong>
					 </div>
					 </div>
		          </div>
				  <div class="col-sm-12">
				  <div>
					<button type="submit" class="btn btn-primary">Ajoutez l'image du slide</button>
				  </div>
				  </div>
		         <div class="clear"></div>
				 {{ form_rest(formslide) }}
		        </form>
				
				<div class="clearfix"></div>
				</div>

				</div>
			</div class="clearfix"></div>
			</div>

<script src="{{ asset('template/assets/js/onvisible.js') }}" type="text/javascript"></script>
<!-- /js files -->
<hr>
<script>
var bouge = 1;
var dimension = 200;
function activateelement()
{
var visibility = visibleElement('.animecourant-panel');

if(visibility && bouge == 0){
	bouge = 1;
	$('.toutleblock').css('position','relative');
	$('.toutleblock').css('bottom','0px');
	$('.toutleblock').css('margin-bottom','0px');
}
}

function stopelement()
{
var visibility = visibleElement('.stop-courant-panel');
if(visibility && bouge == 1){
	if(visibleElement('.animecourant-panel') && visibleElement('.stop-courant-panel'))
	{
	
	}else{
	bouge = 0;
	$('.toutleblock').css('position','fixed');
	$('.toutleblock').css('width',dimension+'px');
	$('.toutleblock').css('bottom','7px');
	$('.toutleblock').css('margin-bottom','165px');
	}
}
}

var idStopelement = 0;
var idActivateelement = 0;
function controlScroll()
{
	var largeur = ($(window).width());
	dimension = $('.toutleblock').width();
	if (largeur >= 768)
	{
	   /*
		if(visibleElement('.animecourant-panel') && visibleElement('.stop-courant-panel'))
		{
		
		$('.toutleblock').css('position','fixed');
		$('.toutleblock').css('width',dimension+'px'); 
		}else{ 
		idStopelement = window.setInterval(function() { stopelement(); }, 100);
		idActivateelement = window.setInterval(function() { activateelement(); }, 100);
		} */
		idStopelement = window.setInterval(function() { stopelement(); }, 100);
		idActivateelement = window.setInterval(function() { activateelement(); }, 100);
	}
}
controlScroll();

</script>			
{% endblock %}

{% block javascripttemplate %}
$('.img-slide').addClass('position-user');
{% endblock %}